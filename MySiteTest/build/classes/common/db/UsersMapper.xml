<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="UserMapper">
	<!-- 사용자 등록 -->
	<insert id="insertUser"
		parameterType="kr.ac.kopo.board.vo.UserVO">
		INSERT INTO Users (username, email, password, role)
		VALUES (#{username}, #{email}, #{password}, #{role})
	</insert>

	<!-- 이메일로 사용자 조회 -->
	<select id="getUserByEmail"
		resultType="kr.ac.kopo.board.vo.UserVO">
		SELECT user_id, username, email, password, role
		FROM Users
		WHERE email = #{email}
	</select>
	<!-- 로그인  -->
	<select id="login"
		resultType="kr.ac.kopo.board.vo.UserVO" parameterType="kr.ac.kopo.board.vo.UserVO">
		SELECT user_id, username, email, password, role
		FROM Users
		WHERE email = #{email} and password = #{password}
	</select>
</mapper>
